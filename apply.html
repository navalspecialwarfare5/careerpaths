<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Naval Special Warfare Development Group 5</title>
  <meta property="og:title" content="Naval Special Warfare Group Development 5 - Milsim" />
  <meta property="og:description" content="Naval Special Warfare Development Group 5 is a hardcore milsim unit simulating DEVGRU SEAL operations with realistic tactics, direct action, maritime operations and recon missions." />
  <meta property="og:image" content="http://navalspecialwarfaregroup5.com/trident.png" />
  <meta property="og:url" content="http://navalspecialwarfaregroup5.com/" />
  <meta property="og:type" content="website" />
  <link rel="icon" type="image/png" href="trident.png">
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="apply.css">
</head>

<body>
  <div id="notification"></div>
  <div class="container">
    <h1>Apply Now</h1>
    <div class="form-section">
      <form id="applicationForm">
        <label for="fullName">Full Name</label>
        <input type="text" id="fullName" class="form-control" required>

        <label for="discord">Discord Username</label>
        <input type="text" id="discord" class="form-control" placeholder="e.g., Callsign#0001" required>

        <label for="role">Which unit are you applying to?</label>
        <select id="role" class="form-select" required>
          <option value="">Select your path...</option>
          <option value="DEVGRU">DEVGRU – SEAL / D&E</option>
          <option value="160th">160th SOAR – Aviator / Officer</option>
          <option value="24th">24th STS – CCT / PJ</option>
        </select>

        <label for="motivation">Statement of Motivation</label>
        <textarea id="motivation" class="form-control" rows="5" placeholder="Explain in detail your motivation to join, including what draws you to this unit and how it aligns with your goals." required></textarea>

        <label for="experience">Prior Tactical/Leadership Experience</label>
        <textarea id="experience" class="form-control" rows="4" placeholder="Include any relevant experience in military simulation, leadership roles, real-world military service, or tactical coordination." required></textarea>

        <label for="commitment">Availability and Commitment</label>
        <textarea id="commitment" class="form-control" rows="3" placeholder="Provide details on your timezone, usual availability, and how often you can commit to training and operations." required></textarea>

        <label for="background">Technical / Aviation / Medical Background (If Applicable)</label>
        <textarea id="background" class="form-control" rows="3" placeholder="Detail any experience with aviation platforms, communications, trauma care, reconnaissance, or related fields."></textarea>

        <label for="comments">Additional Remarks</label>
        <textarea id="comments" class="form-control" rows="3" placeholder="Any further comments or relevant details you'd like us to know."></textarea>

        <button type="submit" class="btn btn-submit">Submit Application</button>
      </form>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const cooldownKey = 'sqdn5_application_cooldown';
    const cooldownTime = 15 * 60 * 1000;

    function showNotification(message, success = true) {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.style.background = success ? '#004085' : '#721c24';
      notification.style.display = 'block';
      notification.style.opacity = '1';

      setTimeout(() => {
        notification.style.opacity = '0';
        setTimeout(() => {
          notification.style.display = 'none';
        }, 500);
      }, 4000);
    }

    document.getElementById('applicationForm').addEventListener('submit', async (e) => {
      e.preventDefault();

      const now = Date.now();
      const lastSubmitted = localStorage.getItem(cooldownKey);
      if (lastSubmitted && now - lastSubmitted < cooldownTime) {
        showNotification('Please wait 15 minutes before submitting another application.', false);
        return;
      }

      const webhookURL = "https://discord.com/api/webhooks/1374799352349851768/kbfEWAFOGBdWE9M4Xm2ucuARi1AJ8VrDhbid00t9kPHDAobJ3_JJu7GG5H7FV7Me-oAO";

      const fullName = document.getElementById('fullName').value.trim();
      const discord = document.getElementById('discord').value.trim();
      const role = document.getElementById('role').value;
      const motivation = document.getElementById('motivation').value.trim().slice(0, 1024);
      const experience = document.getElementById('experience').value.trim().slice(0, 1024);
      const commitment = document.getElementById('commitment').value.trim().slice(0, 1024);
      const background = document.getElementById('background').value.trim().slice(0, 1024);
      const comments = document.getElementById('comments').value.trim().slice(0, 1024);

      const payload = {
        embeds: [
          {
            title: `New Application for ${role}`,
            color: 16777215,
            description: `**Applicant:** ${discord}`,
            fields: [
              { name: "Full Name", value: fullName || "N/A", inline: false },
              { name: "Statement of Motivation", value: motivation || "N/A", inline: false },
              { name: "Prior Experience", value: experience || "N/A", inline: false },
              { name: "Availability & Commitment", value: commitment || "N/A", inline: false },
              { name: "Tech/Medical Background", value: background || "N/A", inline: false },
              { name: "Additional Remarks", value: comments || "N/A", inline: false }
            ],
            timestamp: new Date().toISOString()
          }
        ]
      };

      try {
        const response = await fetch(webhookURL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });

        if (response.ok) {
          showNotification('Application submitted successfully. A recruiter will reach out to you soon.');
          localStorage.setItem(cooldownKey, Date.now());
          document.getElementById('applicationForm').reset();
        } else {
          showNotification('Failed to submit application.', false);
        }
      } catch (error) {
        showNotification('An unexpected error occurred.', false);
      }
    });
  </script>
</body>

</html>